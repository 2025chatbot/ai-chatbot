#  AI Chatbot System
> m2cloud μ‚°ν•™ν”„λ΅μ νΈ

## π“– ν”„λ΅μ νΈ μ†κ°

μ΄ ν”„λ΅μ νΈλ” **λ³‘μ› λ° κΈ°μ—… μ›Ήμ‚¬μ΄νΈμ— μ‰½κ² μ„λ² λ”©ν•  μ μλ” AI μ±—λ΄‡ μ„μ ―**μ„ μ κ³µν•©λ‹λ‹¤. κ΄€λ¦¬μλ” μ›Ή μΈν„°νμ΄μ¤μ—μ„ μ§λ¬Έ/λ‹µλ³€ λ°μ΄ν„°λ¥Ό κ΄€λ¦¬ν•κ³ , κ³ κ°μ€ μ‹¤μ  μ›Ήμ‚¬μ΄νΈμ—μ„ ν”λ΅ν… μ±—λ΄‡μ„ ν†µν•΄ μ¦‰μ‹ μƒλ‹΄λ°›μ„ μ μμµλ‹λ‹¤.

### β¨ μ£Όμ” νΉμ§•

- π― **ν”λ¬κ·ΈμΈ λ°©μ‹**: λ‹¨ ν• μ¤„μ μ¤ν¬λ¦½νΈλ΅ μ–΄λ–¤ μ›Ήμ‚¬μ΄νΈλ“  μ±—λ΄‡ μ¶”κ°€
- π›΅οΈ **CSS κ²©λ¦¬**: νΈμ¤νΈ μ›Ήμ‚¬μ΄νΈ μ¤νƒ€μΌκ³Ό μ¶©λ μ—†λ” λ…λ¦½μ  λ””μμΈ
- π”§ **μ‹¤μ‹κ°„ κ΄€λ¦¬**: μ›Ή μΈν„°νμ΄μ¤μ—μ„ μ§λ¬Έ/λ‹µλ³€ λ°μ΄ν„° μ‹¤μ‹κ°„ μμ •
- π **λ‹¤μ¤‘ λ„λ©”μΈ**: μ—¬λ¬ νμ‚¬/λ³‘μ›λ³„ λ…λ¦½μ μΈ μ±—λ΄‡ κ΄€λ¦¬

---

## β™οΈ κ°λ° ν™κ²½ μ„¤μ •

### π“‹ μ‹μ¤ν… μ”κµ¬μ‚¬ν•­

- Node.js 18+
- npm 8+
- OpenAI API ν‚¤

### 1. μ €μ¥μ† ν΄λ΅ 
```bash
git clone https://github.com/2025chatbot/ai-chatbot.git
cd ai-chatbot
```

### 2. μμ΅΄μ„± μ„¤μΉ
```bash
# κ΄€λ¦¬μ νμ΄μ§€
cd admin
npm install

# μ±—λ΄‡ μ„μ ―
cd ../widget
npm install

# λ°±μ—”λ“ μ„λ²„
cd ../server
npm install
```

### 3. ν™κ²½ λ³€μ μ„¤μ •

`server/.env` νμΌμ„ μƒμ„±ν•κ³  λ‹¤μ λ‚΄μ©μ„ μ…λ ¥ν•μ„Έμ”:

```env
# OpenAI API μ„¤μ •
OPENAI_API_KEY=your_openai_api_key_here

# μ±—λ΄‡ λ¨λΈ μ„¤μ •
CHATAPI_MODEL=chatgpt
CHATAPI_URL=http://localhost:5000
```

### 4. ν”„λ΅μ νΈ λΉλ“

```bash
# κ΄€λ¦¬μ νμ΄μ§€ λΉλ“
cd admin
npm run build

# μ±—λ΄‡ μ„μ ― λΉλ“
cd ../widget
npm run build
```

### 5. μ„λ²„ μ‹¤ν–‰

```bash
cd server
node app.js
```

π‰ **μ„λ²„κ°€ μ‹¤ν–‰λμ—μµλ‹λ‹¤!**
- κ΄€λ¦¬μ νμ΄μ§€: http://localhost:3000/admin
- API μ„λ²„: http://localhost:3000/api
- μ„μ ― λ΅λ”: http://localhost:3000/widget-loader.js

---

## π“ ν”„λ΅μ νΈ κµ¬μ΅°

```
ai-chatbot/
β”β”€β”€ README.md
β”β”€β”€ admin/                       # κ΄€λ¦¬μ μ›Ή μΈν„°νμ΄μ¤
β”‚   β”β”€β”€ package.json             # κ΄€λ¦¬μ νμ΄μ§€ μμ΅΄μ„± κ΄€λ¦¬
β”‚   β”β”€β”€ public/                  # μ •μ  λ¦¬μ†μ¤
β”‚   β”β”€β”€ src/
β”‚   β”‚   β”β”€β”€ App.js               # React Router μ„¤μ •
β”‚   β”‚   β”β”€β”€ components/
β”‚   β”‚   β”‚   β””β”€β”€ Chat.js          # κ΄€λ¦¬μμ© ν…μ¤νΈ μ±—λ΄‡
β”‚   β”‚   β””β”€β”€ pages/               # μ£Όμ” ν™”λ©΄ κµ¬μ„±
β”‚   β”‚   β”β”€β”€ Home.js              # λ€μ‹λ³΄λ“ ν™
β”‚   β”‚   β”β”€β”€ CreateCompany.js     # μƒ νμ‚¬ λ“±λ΅ νμ΄μ§€
β”‚   β”‚   β”β”€β”€ CompanyList.js       # νμ‚¬ λ©λ΅ κ΄€λ¦¬
β”‚   β”‚   β”β”€β”€ AddQna.js            # Q&A λ°μ΄ν„° μ¶”κ°€ μ…λ ¥
β”‚   β”‚   β””β”€β”€ NoInfo.js            # λ―Έν•™μµ μ§λ¬Έ κ΄€λ¦¬
β”‚   β””β”€β”€ build/                   # λΉλ“λ μ •μ  νμΌ
β”‚
β”β”€β”€ widget/                      # μ„λ² λ”©μ© μ±—λ΄‡ μ„μ ―
β”‚   β”β”€β”€ package.json             # μ„μ ― μμ΅΄μ„± κ΄€λ¦¬
β”‚   β”β”€β”€ src/
β”‚   β”‚   β”β”€β”€ index.js             # μ„μ ― μ§„μ…μ 
β”‚   β”‚   β””β”€β”€ components/
β”‚   β”‚   β””β”€β”€ ChatWidget.js        # ν”λ΅ν… μ±—λ΄‡ μ»΄ν¬λ„νΈ
β”‚   β””β”€β”€ build/                   # λΉλ“λ μ„μ ― νμΌ
β”‚
β””β”€β”€ server/                      # Express API μ„λ²„
β”‚   β”β”€β”€ app.js                   # μ„λ²„ λ©”μΈ (μ •μ  νμΌ + API)
β”‚   β”β”€β”€ package.json             # μ„λ²„ μμ΅΄μ„± κ΄€λ¦¬
β”‚   β”β”€β”€ data/                    # νμ‚¬λ³„ λ°μ΄ν„° μ €μ¥μ†
β”‚   β”‚   β”β”€β”€ trainData/           # AI ν•™μµμ© ν”„λ΅¬ν”„νΈ
β”‚   β”‚   β”‚   β”β”€β”€ apple.prompt.json
β”‚   β”‚   β”‚   β””β”€β”€ banana.prompt.json
β”‚   β”‚   β”β”€β”€ questionData/        # Q&A λ°μ΄ν„°λ² μ΄μ¤
β”‚   β”‚   β”‚   β”β”€β”€ apple.questions.json
β”‚   β”‚   β”‚   β””β”€β”€ banana.questions.json
β”‚   β”‚   β””β”€β”€ noInfoData/          # λ―Έν•™μµ μ§λ¬Έ μμ§‘
β”‚   β”‚   β””β”€β”€ banana.inInfo.json
β”‚   β”β”€β”€ routes/                  # API λΌμ°ν„° μ •μ
β”‚   β”‚   β”β”€β”€ index.js
β”‚   β”‚   β”β”€β”€ company.route.js     # νμ‚¬ κ΄€λ¦¬ API
β”‚   β”‚   β”β”€β”€ qna.route.js         # μ±—λ΄‡ λ€ν™” API
β”‚   β”‚   β””β”€β”€ noinfo.route.js      # λ―Έν•™μµ λ°μ΄ν„° API
β”‚   β”β”€β”€ controllers/             # λΌμ°ν„° ν•Έλ“¤λ¬
β”‚   β”‚   β”β”€β”€ company.controller.js
β”‚   β”‚   β”β”€β”€ qna.controller.js
β”‚   β”‚   β””β”€β”€ noinfo.controller.js
β”‚   β”β”€β”€ services/                # μ™Έλ¶€ μ„λΉ„μ¤ μ—°λ™
β”‚   β”‚   β”β”€β”€ chatapi.js           # AI λ¨λΈ ν†µν•© κ΄€λ¦¬
β”‚   β”‚   β”β”€β”€ openai.js            # OpenAI API μ—°λ™
β”‚   β”‚   β””β”€β”€ specialaction.js     # νΉμ μ•΅μ… μ²λ¦¬
β”‚   β””β”€β”€ utils/                   # μ ν‹Έλ¦¬ν‹° ν•¨μ λ¨μ
β”‚       β”β”€β”€ util.js              # νμΌ I/O μ ν‹Έλ¦¬ν‹°
β”‚       β”β”€β”€ traindata.js         # ν•™μµ λ°μ΄ν„° μ²λ¦¬
β”‚       β””β”€β”€ instructions.js      # AI ν”„λ΅¬ν”„νΈ μƒμ„±
```

---

## β… ν„μ¬κΉμ§€ κµ¬ν„λ κΈ°λ¥

### π“ κ΄€λ¦¬μ μ›Ή μΈν„°νμ΄μ¤ (React)
- **`/admin`** ν™ λ€μ‹λ³΄λ“ (λ³‘μ› κ΄€λ¦¬ λ©”λ‰΄)
- **`/admin/create`** μƒ λ³‘μ› λ“±λ΅
  - μ§μ ‘ μ…λ ¥: λ³‘μ›λ…κ³Ό μ§λ¬Έ/λ‹µλ³€ μλ™ μ…λ ¥
  - νμΌ μ—…λ΅λ“: TXT/JSON ν•μ‹ νμΌλ΅ μΌκ΄„ λ“±λ΅
- **`/admin/companies`** λ“±λ΅λ λ³‘μ› λ©λ΅ μ΅°ν λ° κ΄€λ¦¬
- **`/admin/company/:companyname`** λ³‘μ›λ³„ μ±—λ΄‡ ν…μ¤νΈ νμ΄μ§€
- **`/admin/addqna/:name`** κΈ°μ΅΄ λ³‘μ›μ— Q&A λ°μ΄ν„° μ¶”κ°€
  - μ§μ ‘ μ…λ ¥
  - νμΌ μ—…λ΅λ“ (TXT / JSON)
- **`/admin/noinfo/:company`** λ―Έν•™μµ μ§λ¬Έ κ΄€λ¦¬
  - μ‹ κ· Q&A νƒ­: λ‹µλ³€ λ€κΈ° μ¤‘μΈ μ§λ¬Έλ“¤
  - κΈ°μ΅΄ Q&A νƒ­: ν•™μµλ μ§λ¬Έ / λ‹µλ³€ μμ •

### π“ μ±—λ΄‡ μ„μ ― (React)
- **ν”λ΅ν… μ„μ ―**: μ›Ήμ‚¬μ΄νΈ μ°ν•λ‹¨ ν”λ΅ν… λ²„νΌ
- **λ€ν™”μ°½**: λ¨λ‹¬ ν•νƒμ μ‹¤μ‹κ°„ μ±„ν… μΈν„°νμ΄μ¤
- **CSS κ²©λ¦¬**: νΈμ¤νΈ μ›Ήμ‚¬μ΄νΈμ™€ μ¤νƒ€μΌ μ¶©λ λ°©μ§€

### π“ λ°±μ—”λ“ API μ„λ²„ (Express)

#### π¥ νμ‚¬ κ΄€λ¦¬ API
- `POST /company` μƒ λ³‘μ› λ“±λ΅ β†’ μλ™ ID μƒμ„± + λ°μ΄ν„° μ €μ¥
- `GET /companies` μ „μ²΄ λ³‘μ› λ©λ΅ μ΅°ν

#### π’¬ μ±—λ΄‡ λ€ν™” API  
- `POST /Query/:chatid` GPT μ‘λ‹µ μ²λ¦¬ β†’ μ„Έμ…λ³„ λ€ν™” κ΄€λ¦¬
- `POST /addqna/:companyname` μ¶”κ°€ μ§λ¬Έ/λ‹µλ³€ μ €μ¥ β†’ μ¦‰μ‹ ν•™μµ λ°μ
- `POST /rawdata` μμ—°μ–΄ ν…μ¤νΈλ¥Ό κµ¬μ΅°ν™”λ JSONμΌλ΅ λ³€ν™
- `GET /questions/:company` κΈ°μ΅΄ μ§λ¬Έ/λ‹µλ³€ λ©λ΅ μ΅°ν
- `PATCH /questions/:company` κΈ°μ΅΄ μ§λ¬Έ/λ‹µλ³€ μμ •
- `DELETE /questions/:company` μ§λ¬Έ/λ‹µλ³€ μ‚­μ 

#### π“ λ―Έν•™μµ λ°μ΄ν„° API
- `GET /noinfo/:company` λ‹µλ³€ λ€κΈ° μ§λ¬Έ λ©λ΅ μ΅°ν
- `POST /noinfo/:company` μ‹ κ· μ§λ¬Έμ— λ€ν• λ‹µλ³€ λ“±λ΅
- `DELETE /noinfo/:company` λ―Έν•™μµ μ§λ¬Έ μ‚­μ 

#### π“ νμΌ κ΄€λ¦¬ API
- `POST /upload` JSON νμΌ μ—…λ΅λ“ (ν•™μµ λ°μ΄ν„° μΌκ΄„ λ“±λ΅)

### π“ AI λ¨λΈ
- **OpenAI GPT** μ—°λ™
- **μ„Έμ… κ΄€λ¦¬**: νμ‚¬λ³„ λ…λ¦½μ μΈ λ€ν™” μ»¨ν…μ¤νΈ μ μ§€
- **ν”„λ΅¬ν”„νΈ ν•« λ¦¬λ΅λ“**: Q&A μ¶”κ°€ μ‹ μ¦‰μ‹ ν•™μµ λ°μ

### π“ λ°μ΄ν„° κ΄€λ¦¬ μ‹μ¤ν…
- **νμ‚¬λ³„ λ°μ΄ν„° λ¶„λ¦¬**: `data/{trainData|questionData|noInfoData}/`
- **μ‹¤μ‹κ°„ νμΌ λ™κΈ°ν™”**: μ›Ήμ—μ„ μμ • β†’ JSON νμΌ μ¦‰μ‹ μ—…λ°μ΄νΈ
- **ν•™μµ λ°μ΄ν„° μλ™ μƒμ„±**: Q&A μ…λ ¥ β†’ prompt.json μλ™ μƒμ„±
- **λ―Έν•™μµ μ§λ¬Έ μμ§‘**: λ‹µλ³€ λ¶κ°€λ¥ν• μ§λ¬Έ μλ™ λ΅κΉ…

---

## π§ ν…μ¤νΈ λ° λ°λ¨

### λ°©λ²• 1: ν…μ¤νΈ HTML νμΌλ΅ λΉ λ¥Έ ν™•μΈ

ν”„λ΅μ νΈ λ£¨νΈμ— `test.html` νμΌμ„ μƒμ„±ν•μ—¬ μ±—λ΄‡μ„ ν…μ¤νΈν•  μ μμµλ‹λ‹¤:

```html
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI μ±—λ΄‡ ν…μ¤νΈ</title>
    <style>
        body {
            font-family: 'Malgun Gothic', 'λ§‘μ€ κ³ λ”•', 'Apple SD Gothic Neo', 'Segoe UI', sans-serif;
            margin: 40px;
            line-height: 1.6;
        }
        .demo-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>π¥ AI μ±—λ΄‡ λ°λ¨ νμ΄μ§€</h1>
    
    <div class="demo-section">
        <h2>λ³‘μ› μ›Ήμ‚¬μ΄νΈ μ‹λ®¬λ μ΄μ…</h2>
        <p>μ΄ νμ΄μ§€λ” μ‹¤μ  λ³‘μ› μ›Ήμ‚¬μ΄νΈλ¥Ό μ‹λ®¬λ μ΄μ…ν•©λ‹λ‹¤.</p>
        <p>μ°μΈ΅ ν•λ‹¨μ π’¬ λ²„νΌμ„ ν΄λ¦­ν•μ—¬ μ±—λ΄‡κ³Ό λ€ν™”ν•΄λ³΄μ„Έμ”!</p>
    </div>

    <!-- π“ μ±—λ΄‡ μ„μ ― λ΅λ“ -->
    <script src="http://localhost:3000/widget-loader.js"></script>
    <script>
        // π€ μ±—λ΄‡ μ΄κΈ°ν™” (μ„λ²„ μ‹¤ν–‰ ν›„)
        window.addEventListener('load', () => {
            if (window.initChatbot) {
                window.initChatbot({
                    companyName: 'apple',  // λ“±λ΅λ λ³‘μ›λ…μΌλ΅ λ³€κ²½
                    title: 'μ• ν” λ³‘μ› μƒλ‹΄',
                    serverUrl: 'http://localhost:3000'
                });
                console.log('β… μ±—λ΄‡ μ„μ ―μ΄ μ„±κ³µμ μΌλ΅ λ΅λ“λμ—μµλ‹λ‹¤!');
            } else {
                console.error('β μ±—λ΄‡ λ΅λ”λ¥Ό μ°Ύμ„ μ μ—†μµλ‹λ‹¤. μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈν•μ„Έμ”.');
            }
        });
    </script>
</body>
</html>
```

**μ‹¤ν–‰ λ°©λ²•:**
1. μ„λ²„κ°€ μ‹¤ν–‰ μ¤‘μΈμ§€ ν™•μΈ: `http://localhost:3000/admin`  << κ΄€λ¦¬μ νμ΄μ§€ μ ‘μ†
2. `test.html` νμΌμ„ λΈλΌμ°μ €μ—μ„ μ—΄κΈ°
3. μ°μΈ΅ ν•λ‹¨ μ±—λ΄‡ λ²„νΌ ν΄λ¦­ν•μ—¬ ν…μ¤νΈ

### λ°©λ²• 2: λΈλΌμ°μ € μ½μ†”μ—μ„ λ™μ  ν…μ¤νΈ

κΈ°μ΅΄ μ›Ήμ‚¬μ΄νΈμ—μ„ **κ°λ°μ λ„κµ¬ β†’ Console**μ„ μ—΄κ³  λ‹¤μ μ½”λ“λ¥Ό μ‹¤ν–‰:

```javascript
// π”¥ μ±—λ΄‡ μ„μ ―μ„ μ¦‰μ‹ μ¶”κ°€
const script = document.createElement('script');
script.src = 'http://localhost:3000/widget-loader.js';
document.head.appendChild(script);

setTimeout(() => {
  if (typeof initChatbot === 'function') {
    initChatbot({
      companyName: 'apple',
      title: 'μ• ν” λ³‘μ› μƒλ‹΄',
      serverUrl: 'http://localhost:3000'
    });
    console.log('β… μ‹¤μ  μ›Ήμ‚¬μ΄νΈμ—μ„ μ±—λ΄‡ λ΅λ“ μ„±κ³µ!');
  }
}, 2000);
```

**π“‹ μ”κµ¬μ‚¬ν•­:**
- μ„λ²„μ— HTTPS μ μ© ν•„μ”
- Chrome λΈλΌμ°μ € μ‚¬μ© κ¶μ¥

**β¨ μ½μ†” ν…μ¤νΈμ μ¥μ :**
- κΈ°μ΅΄ μ›Ήμ‚¬μ΄νΈ μμ • μ—†μ΄ μ¦‰μ‹ ν…μ¤νΈ
- λ‹¤μ–‘ν• μ‚¬μ΄νΈμ—μ„ νΈν™μ„± ν™•μΈ  
- CSS μ¶©λ μ—¬λ¶€ μ‹¤μ‹κ°„ κ²€μ¦

**π”§ μ„¤μ • μµμ…:**
- `companyName`: κ΄€λ¦¬μμ—μ„ λ“±λ΅ν• λ³‘μ›λ…
- `title`: μ±—λ΄‡ μƒλ‹¨μ— ν‘μ‹λ  μ λ©
- `serverUrl`: API μ„λ²„ μ£Όμ† (λ°°ν¬ μ‹ μ‹¤μ  λ„λ©”μΈ)

---
